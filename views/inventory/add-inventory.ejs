<% layout('layouts/layout') %>

    <div class="inventory-container">
        <h1>
            <%= title %>
        </h1>

        <% if (messages.notice) { %>
            <div class="notice bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded relative mb-4"
                role="alert">
                <p>
                    <%= messages.notice %>
                </p>
            </div>
            <% } %>

                <% if (errors && errors.array) { %>
                    <ul class="notice bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
                        <% errors.array().forEach(error=> { %>
                            <li>
                                <%= error.msg %>
                            </li>
                            <% }) %>
                    </ul>
                    <% } %>

                        <form action="/inv/add-inventory" method="post" class="space-y-6">

                            <div class="form-group">
                                <label for="classificationList"
                                    class="block text-gray-700 font-semibold mb-2">Classification</label>
                                <%- classificationList %>
                            </div>

                            <div class="form-group">
                                <label for="inv_make" class="block text-gray-700 font-semibold mb-2">Make</label>
                                <input type="text" id="inv_make" name="inv_make" required minlength="3"
                                    value="<%= typeof inv_make !== 'undefined' ? inv_make : '' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_model" class="block text-gray-700 font-semibold mb-2">Model</label>
                                <input type="text" id="inv_model" name="inv_model" required minlength="3"
                                    value="<%= typeof inv_model !== 'undefined' ? inv_model : '' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_year" class="block text-gray-700 font-semibold mb-2">Year</label>
                                <input type="number" id="inv_year" name="inv_year" required min="1900"
                                    max="<%= new Date().getFullYear() + 1 %>"
                                    value="<%= typeof inv_year !== 'undefined' ? inv_year : '' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_description"
                                    class="block text-gray-700 font-semibold mb-2">Description</label>
                                <textarea id="inv_description" name="inv_description" required rows="4"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"><%= typeof inv_description !== 'undefined' ? inv_description : '' %></textarea>
                            </div>

                            <div class="form-group">
                                <label for="inv_image" class="block text-gray-700 font-semibold mb-2">Image Path</label>
                                <input type="text" id="inv_image" name="inv_image" required
                                    value="<%= typeof inv_image !== 'undefined' ? inv_image : '/images/vehicles/no-image.png' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_thumbnail" class="block text-gray-700 font-semibold mb-2">Thumbnail
                                    Path</label>
                                <input type="text" id="inv_thumbnail" name="inv_thumbnail" required
                                    value="<%= typeof inv_thumbnail !== 'undefined' ? inv_thumbnail : '/images/vehicles/no-image-tn.png' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_price" class="block text-gray-700 font-semibold mb-2">Price</label>
                                <input type="number" id="inv_price" name="inv_price" required min="0.01" step="0.01"
                                    value="<%= typeof inv_price !== 'undefined' ? inv_price : '' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_miles" class="block text-gray-700 font-semibold mb-2">Miles</label>
                                <input type="number" id="inv_miles" name="inv_miles" required min="0"
                                    value="<%= typeof inv_miles !== 'undefined' ? inv_miles : '' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <div class="form-group">
                                <label for="inv_color" class="block text-gray-700 font-semibold mb-2">Color</label>
                                <input type="text" id="inv_color" name="inv_color" required
                                    value="<%= typeof inv_color !== 'undefined' ? inv_color : '' %>"
                                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            </div>

                            <button type="submit"
                                class="submit-button w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">
                                Add Inventory Item
                            </button>
                        </form>
    </div>